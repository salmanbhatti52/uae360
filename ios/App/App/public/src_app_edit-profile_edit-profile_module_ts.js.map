{"version":3,"file":"src_app_edit-profile_edit-profile_module_ts.js","mappings":"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","sources":["./src/app/edit-profile/edit-profile-routing.module.ts","./src/app/edit-profile/edit-profile.module.ts","./src/app/edit-profile/edit-profile.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditProfilePage } from './edit-profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditProfilePageRoutingModule } from './edit-profile-routing.module';\n\nimport { EditProfilePage } from './edit-profile.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditProfilePageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [EditProfilePage]\n})\nexport class EditProfilePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { NavController } from '@ionic/angular';\nimport { Camera, CameraResultType, CameraSource, Photo } from '@capacitor/camera';\nimport { ApiService } from '../services/api.service';\nimport { FormGroup,Validators,FormBuilder,FormControl } from '@angular/forms';\nimport { CheckUserService } from '../check-user.service';\n@Component({\n  selector: 'app-edit-profile',\n  templateUrl: './edit-profile.page.html',\n  styleUrls: ['./edit-profile.page.scss'],\n})\nexport class EditProfilePage implements OnInit {\n  angForm:FormGroup;\n  fName = '';\n  lName = '';\n  userProfile = '';\n  userEmail = '';\n  userAbout = '';\n  userLocation = '';\n  firstName = false;\n  lastName = false;\n  about = false;\n  email = false;\n  address = false;\n  base64String: string;\n  constructor(public location:Location,\n    public navCtrlr:NavController,\n    public api:ApiService,\n    public checkUser:CheckUserService,\n    private fb:FormBuilder ) {\n      this.createForm();\n     }\n\ncreateForm(){\n  this.angForm = this.fb.group({\n    fName: [],\n    lName: [],\n    about: [],\n    email:['',[Validators.pattern(\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\")]],\n    location: [],\n  });\n}  \n\n  ngOnInit() {\n    console.log(this.api.localUserData);\n    // ================\n    const str = this.api.localUserData.username;\n    const strArray = str.split(' ');\n    console.log(strArray);\n    if(strArray.length >= 2){\n      this.fName = strArray[0];\n      this.lName = strArray[1];\n\n    }else if(strArray.length == 1){\n      this.fName = strArray[0];\n    }else{\n\n    }\n    this.userProfile = this.api.localUserData.profile_pic;\n    this.userEmail = this.api.localUserData.email;\n    this.userAbout = this.api.localUserData.about;\n    this.userLocation = this.api.localUserData.location;\n    if(this.userAbout == null){\n      this.userAbout = '';\n    }\n    if(this.userLocation == null){\n      this.userLocation == this.api.fetchLocation;\n    }\n\n    this.angForm.setValue({\n      fName: this.fName,\n      lName: this.lName,\n      about: this.userAbout,\n      email: this.userEmail,\n      location: this.userLocation\n    });\n    // expected output: Array [\"The quick brown fox jumps over the lazy dog.\"]\n    // ====================\n  }\n  goBack(){\n    this.location.back();\n  }\n  activate(val){\n    if( val == 'first_name'){\n      this.firstName = true;\n      this.lastName = false;\n      this.about = false;\n      this.email = false;\n      this.address = false;\n    }\n    else if( val == 'last_name'){\n      this.firstName = false;\n      this.lastName = true;\n      this.about = false;\n      this.email = false;\n      this.address = false;\n    }\n    else if( val == 'about'){\n      this.firstName = false;\n      this.lastName = false;\n      this.about = true;\n      this.email = false;\n      this.address = false;\n    }\n    else if( val == 'email'){\n      this.firstName = false;\n      this.lastName = false;\n      this.about = false;\n      this.email = true;\n      this.address = false;\n    }\n    else if( val == 'address'){\n      this.firstName = false;\n      this.lastName = false;\n      this.about = false;\n      this.email = false;\n      this.address = true;\n    }\n    else{\n\n    }\n  }\n\n  async addNewProfile(){\n    const image = await Camera.getPhoto({\n      quality: 90,\n      allowEditing: false,\n      resultType: CameraResultType.Base64,\n      source: CameraSource.Prompt\n    });\n    console.log(image.base64String);\n    this.userProfile = `data:image/jpeg;base64,${image.base64String}`\n    this.base64String = image.base64String;\n  }\n  \n  updateProfile(){\n    this.firstName = false;\n    this.lastName = false;\n    this.about = false;\n    this.email = false;\n    this.address = false;\n    let data = {\n      username: `${this.angForm.value.fName} ${this.angForm.value.lName}`,\n      email: this.angForm.value.email,\n      location: this.angForm.value.location,\n      about: this.angForm.value.about,\n      user_id: this.checkUser.appUserId,\n      profile: this.base64String\n    }\n    console.log(this.angForm.value.fName + \" \" + this.angForm.value.lName);\n    console.log(\"email: \",this.angForm.value.email);\n    console.log(\"location: \",this.angForm.value.location);\n    console.log(\"about: \",this.angForm.value.about);\n    console.log(\"appUserId: \",this.checkUser.appUserId);\n    console.log(\"base64String: \",this.base64String);\n    \n    this.api.showLoading();\n    this.api.sendRequest('updateAppUserProfile',data).subscribe((res:any)=>{\n      this.api.hideLoading();\n      console.log('Updat Profile Res: ',res);\n      if(res.status == 'success'){\n        this.api.localUserData.username = res.data[0].username;\n        this.api.localUserData.about = res.data[0].about;\n        this.api.localUserData.profile_pic = res.data[0].profile_pic;\n        this.api.localUserData.email = res.data[0].email;\n        this.api.localUserData.location = res.data[0].location;\n        console.log('api Local User Data: ',this.api.localUserData);\n        this.navCtrlr.navigateRoot('settings');\n      }else if(res.status == 'error'){\n        // console.log(\"Error: \",);\n        this.api.hideLoading();\n        \n      }else{\n\n      }\n\n    },(err)=>{\n      console.log(\"Error: \",err);\n      this.api.hideLoading();\n    })\n   \n  }\n\n\n}\n"],"names":["Component","Location","NavController","Camera","CameraResultType","CameraSource","ApiService","Validators","FormBuilder","CheckUserService","EditProfilePage","constructor","location","navCtrlr","api","checkUser","fb","createForm","angForm","group","fName","lName","about","email","pattern","ngOnInit","console","log","localUserData","str","username","strArray","split","length","userProfile","profile_pic","userEmail","userAbout","userLocation","fetchLocation","setValue","goBack","back","activate","val","firstName","lastName","address","addNewProfile","image","getPhoto","quality","allowEditing","resultType","Base64","source","Prompt","base64String","updateProfile","data","value","user_id","appUserId","profile","showLoading","sendRequest","subscribe","res","hideLoading","status","navigateRoot","err","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}