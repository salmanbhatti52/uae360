{"version":3,"file":"src_app_sign-in_sign-in_module_ts.js","mappings":"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","sources":["./src/app/sign-in/sign-in-routing.module.ts","./src/app/sign-in/sign-in.module.ts","./src/app/sign-in/sign-in.page.ts","./node_modules/@codetrix-studio/capacitor-google-auth/dist/esm/definitions.js","./node_modules/@codetrix-studio/capacitor-google-auth/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignInPage } from './sign-in.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignInPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignInPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignInPageRoutingModule } from './sign-in-routing.module';\n\nimport { SignInPage } from './sign-in.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SignInPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [SignInPage]\n})\nexport class SignInPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { FormGroup,Validators,FormBuilder,FormControl } from '@angular/forms';\nimport { isPlatform, MenuController } from '@ionic/angular';\nimport { ApiService } from '../services/api.service';\nimport { CheckUserService } from '../check-user.service';\nimport { AppComponent } from '../app.component';\nimport { GoogleAuth } from '@codetrix-studio/capacitor-google-auth';\nimport { Capacitor } from '@capacitor/core';\n@Component({\n  selector: 'app-sign-in',\n  templateUrl: './sign-in.page.html',\n  styleUrls: ['./sign-in.page.scss'],\n})\nexport class SignInPage implements OnInit {\n  angForm:FormGroup;\n  showPassword=false;\n  getType='password';\n  activateEmailField= false;\n  activatePasswordField= false;\n  googleUser:any;\n  localUserData = {\n    profile_pic: \"\",\n    username:'',\n    location: ''\n  };\n  constructor(public  location:Location,\n    public router:Router,\n    public menuCtrl:MenuController,\n    private fb:FormBuilder,\n    public api:ApiService,\n    public checkUser:CheckUserService,\n    public appComponent:AppComponent) {\n      this.createForm();\n   }\n   createForm(){\n    this.angForm = this.fb.group({\n      email:['',[Validators.required,Validators.pattern(\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\")]],\n      password:['',Validators.required]\n    });\n   }\n\n  ngOnInit() {\n  }\n  ionViewDidEnter(){\n    this.menuCtrl.enable(false);\n  }\n  ionViewWillLeave() {\n    // enable the root left menu when leaving this page\n    this.menuCtrl.enable(true);\n  }\n  // ionViewWillEnter(){\n  //   this.menuCtrl.close();\n  // }\n  goBack(){\n    this.router.navigate(['/home-before-login']);\n  }\n  toggleGetType(){\n    if(this.getType == 'password'){\n      this.getType = 'text';\n      this.showPassword = true;\n    }else{\n      this.getType = 'password';\n      this.showPassword = false;\n    }\n  }\n  activate(val){\n    if(val == 'email'){\n      this.activateEmailField= true;\n      this.activatePasswordField= false;\n    }\n    else if(val == 'pwd'){\n      this.activateEmailField= false;\n      this.activatePasswordField= true;\n    }\n    else{\n\n    }\n  }\n  gotoHome(){\n    this.activateEmailField = false;\n    this.activatePasswordField = false;\n    \n    console.log(this.angForm.value.email);\n    console.log(this.angForm.value.password);\n    \n    let data = {\n      email: this.angForm.value.email,\n      password: this.angForm.value.password,\n    }\n    this.api.sendRequest('loginHereNow',data).subscribe((res:any)=>{\n      console.log(res);\n      if(res.status == 'success'){\n         // this.api.presentToast('Success! Welcome')\n        localStorage.setItem('appUserId',res.data.appUserId);\n        console.log('appUserId',res.data.appUserId);\n        this.checkUser.appUserId = res.data.appUserId;\n        // =============localUserData fetch===================\n        this.localUserData.profile_pic = res.data.profile_pic;\n        this.localUserData.username = res.data.username;\n        this.localUserData.location = res.data.location;\n        \n        localStorage.setItem('localUserData',JSON.stringify(this.localUserData));\n       \n        \n        // ===update appPages===========\n        console.log(this.checkUser.appUserId);\n        this.checkUser.checkUser();\n\n        // =============Maybe for Learning or used in app==============\n        localStorage.setItem(\"appPagesAfterLogin\", JSON.stringify(this.checkUser.appPages));\n        console.log(localStorage.getItem('appPagesAfterLogin'));\n        this.appComponent.appPages = JSON.parse(localStorage.getItem('appPagesAfterLogin')); \n\n        // =======done============\n        this.router.navigate(['/home-cars-after-login']);\n      }else if(res.status == 'error'){\n        this.api.presentToast(res.message);\n      }else{\n\n      }\n    },(error:any)=>{\n      console.log(error);\n      this.api.presentToast(error);\n    })\n\n    \n  }\n  gotoSignUp(){\n    this.router.navigate(['/sign-up']);\n  }\n  gotoForgotPasswordByEmail(){\n    this.router.navigate(['/forgot-password-by-email']);\n  }\n  async googleSignIn(){\n    this.googleUser = await GoogleAuth.signIn();\n    console.log('GoogleUserResponse: ',this.googleUser);\n    this.api.googleSignInResponse = this.googleUser;\n    if(this.googleUser.authentication.accessToken !== ''){\n      console.log('AccessToken: ',this.googleUser.authentication.accessToken);\n      this.router.navigate(['/home-cars-after-login']);\n      \n    }\n  }\n}\n","/// <reference types=\"@capacitor/cli\" />\nexport {};\n","import { registerPlugin } from '@capacitor/core';\nconst GoogleAuth = registerPlugin('GoogleAuth', {\n    web: () => import('./web').then((m) => new m.GoogleAuthWeb()),\n});\nexport * from './definitions';\nexport { GoogleAuth };\n"],"names":["Component","Location","Router","Validators","FormBuilder","MenuController","ApiService","CheckUserService","AppComponent","GoogleAuth","SignInPage","constructor","location","router","menuCtrl","fb","api","checkUser","appComponent","profile_pic","username","createForm","angForm","group","email","required","pattern","password","ngOnInit","ionViewDidEnter","enable","ionViewWillLeave","goBack","navigate","toggleGetType","getType","showPassword","activate","val","activateEmailField","activatePasswordField","gotoHome","console","log","value","data","sendRequest","subscribe","res","status","localStorage","setItem","appUserId","localUserData","JSON","stringify","appPages","getItem","parse","presentToast","message","error","gotoSignUp","gotoForgotPasswordByEmail","googleSignIn","googleUser","signIn","googleSignInResponse","authentication","accessToken","selector","template","registerPlugin","web","then","m","GoogleAuthWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[3,4]}