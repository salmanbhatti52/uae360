{"version":3,"file":"src_app_select-date_select-date_module_ts.js","mappings":"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","sources":["./src/app/select-date/select-date-routing.module.ts","./src/app/select-date/select-date.module.ts","./src/app/select-date/select-date.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SelectDatePage } from './select-date.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectDatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SelectDatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectDatePageRoutingModule } from './select-date-routing.module';\n\nimport { SelectDatePage } from './select-date.page';\n// import { CalendarModule } from 'ion2-calendar';\n\n@NgModule({\n  imports: [\n    // CalendarModule.forRoot({\n    //   doneLabel: 'Save',\n    //   closeIcon: true\n    // }),\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SelectDatePageRoutingModule\n  ],\n  declarations: [SelectDatePage]\n})\nexport class SelectDatePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {format, parseISO,addDays,isDate, getDate,getMonth,getYear} from 'date-fns';\nimport { ModalController } from '@ionic/angular';\nimport { ApiService } from '../services/api.service';\nimport { CalendarComponentOptions } from 'ion2-calendar';\n\n@Component({\n  selector: 'app-select-date',\n  templateUrl: './select-date.page.html',\n  styleUrls: ['./select-date.page.scss'],\n})\nexport class SelectDatePage implements OnInit {\n  dateRange:any;\n  date:any;\n  datesArray = [];\n  minDate = format(parseISO(new Date().toISOString()),'yyyy-MM-dd');\n  arraymonth: any;\n  matched = false;\n  bookedDates = [];\n  bookedStDate:any;\n  bookedEndDate:any;\n\n  optionsRange: CalendarComponentOptions = {\n    pickMode: 'range'\n  };\n  \n  constructor(public modalCtrlr:ModalController,\n    public api:ApiService) { }\n\n  ngOnInit() {\n    this.datesArray = this.api.datesToDisable;\n    this.bookedDates = this.api.bookedDates;\n    console.log('Dates to disable: ',this.datesArray);\n    console.log('Booked Dates: ',this.datesArray);\n     \n  }\n  // onChangeDate(ev){\n  //   console.log('hello');\n    \n  //   console.log(ev);\n    \n  // }\n\n  getStartHours(){\n    console.log('getStartHours',this.dateRange);\n    if (true) {\n\n     let sDate = format(parseISO(new Date(this.dateRange?.from).toISOString()),'yyyy-MM-dd');\n    \n      console.log('start date: ',sDate);\n\n    \n     let eDate = format(parseISO(new Date(this.dateRange?.to).toISOString()),'yyyy-MM-dd'); \n     console.log('end date: ',eDate);\n     \n    }\n  }\n\n  formattedString(dateVal){\n    const formattedString = format(parseISO(dateVal), 'dd MMM, yyyy');\n    console.log('DateValues: ',dateVal);\n    \n    // ==============to fectch booked dates=================\n    \n    for(let d of this.datesArray){\n      \n      // ================dates formatting=============\n      const arrayDate = format(parseISO(new Date(d).toISOString()),'yyyy-MM-dd');\n      const newFormat = format(parseISO(arrayDate), 'dd MMM, yyyy');\n      //==================done===================\n      \n      if(formattedString === newFormat){\n        const formattedDate = parseISO(new Date(formattedString).toISOString());\n        console.log('Formatted Date: ',formattedDate);\n        \n        let dateValue = getDate(formattedDate);\n        \n        let dateMonth =  getMonth(formattedDate);\n        dateMonth++;\n       \n        let dateYear =  getYear(formattedDate);\n\n        for(let d of this.bookedDates){\n          const st_Date = parseISO(new Date(d.start_date).toISOString());\n          const end_Date = parseISO(new Date(d.end_date).toISOString());\n          \n          for(let stDate:any = st_Date; stDate<=end_Date; stDate = addDays(stDate,1)){\n            let bookedDateValue = getDate(stDate);\n\n            let bookedMonth =  getMonth(stDate);\n            bookedMonth++;\n            \n            let bookedYear =  getYear(stDate);\n            \n            if(dateValue == bookedDateValue && dateMonth == bookedMonth && dateYear == bookedYear){\n              this.bookedStDate = st_Date;\n              this.bookedEndDate = end_Date;\n              // ================dates formatting=============\n              const matchedStartDate = format(parseISO(new Date(this.bookedStDate).toISOString()),'yyyy-MM-dd');\n              this.bookedStDate = format(parseISO(matchedStartDate), 'dd MMM, yyyy');\n              \n              const matchedEndDate = format(parseISO(new Date(this.bookedEndDate).toISOString()),'yyyy-MM-dd');\n              this.bookedEndDate = format(parseISO(matchedEndDate), 'dd MMM, yyyy');\n              //==================done===================\n\n            }\n          }\n          \n        }\n        this.matched = true;\n        \n        break;\n      }\n      else if(formattedString !== newFormat){\n        this.matched = false;\n      }else{\n\n      }\n    }\n    \n    if(this.matched == false){\n      this.date = formattedString;  \n    }\n  }\n  done(){\n    console.log(this.date);\n    if(this.date != undefined){\n      return this.modalCtrlr.dismiss(this.date, 'dateSelected')\n    }\n\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}