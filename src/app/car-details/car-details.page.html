<ion-header class="ion-no-border" [class.header_footer_bg]="checkUser.appUserId != null">
  <ion-toolbar class="bgtoolbar" [class.content_background]="checkUser.appUserId != null">
    <div class="header">
      <img (click)="goBack()" src="assets/images/icons/back_arrow.svg" alt="">
      <div class="title">{{vehicleName}}</div>
      <div style="background: white;
      opacity: 0.0;">
        <img src="assets/images/icons/chat.svg" alt="">
      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [class.content_background]="checkUser.appUserId != null">
  <div class="wrapper">
    <div *ngFor="let data of carData">
      <swiper [pagination]="true" [config]="{ intialSlide: 0, speed: 400, slidesPerView:1 }">
        <ng-template swiperSlide>
          <div class="car_slide">
            <ion-icon class="share_icon" name="share-social-outline" (click)="share()"></ion-icon>
            <img (click)="makefavorite()" class="heart_icon" src="assets/images/icons/heart.svg" alt=""
              *ngIf="favorites == 'dislike'">
            <img (click)="makefavorite()" class="heart_icon" src="assets/images/icons/red_heart.svg" alt=""
              *ngIf="favorites == 'liked'">
            <img class="car_image" src="{{api.imageUrlString}}{{data.image1}}" alt="">
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="car_slide">
            <ion-icon class="share_icon" name="share-social-outline" (click)="share()"></ion-icon>
            <img class="heart_icon" src="assets/images/icons/heart.svg" alt="" *ngIf="favorites == 'dislike'">
            <img class="heart_icon" src="assets/images/icons/red_heart.svg" alt="" *ngIf="favorites == 'liked'">
            <img class="car_image" src="{{api.imageUrlString}}{{data.image2}}" alt="">
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="car_slide">
            <ion-icon class="share_icon" name="share-social-outline" (click)="share()"></ion-icon>
            <img class="heart_icon" src="assets/images/icons/heart.svg" alt="" *ngIf="favorites == 'dislike'">
            <img class="heart_icon" src="assets/images/icons/red_heart.svg" alt="" *ngIf="favorites == 'liked'">
            <img class="car_image" src="{{api.imageUrlString}}{{data.image3}}" alt="">
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="car_slide">
            <ion-icon class="share_icon" name="share-social-outline" (click)="share()"></ion-icon>
            <img class="heart_icon" src="assets/images/icons/heart.svg" alt="" *ngIf="favorites == 'dislike'">
            <img class="heart_icon" src="assets/images/icons/red_heart.svg" alt="" *ngIf="favorites == 'liked'">
            <img class="car_image" src="{{api.imageUrlString}}{{data.image4}}" alt="">
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="car_slide">
            <ion-icon class="share_icon" name="share-social-outline" (click)="share()"></ion-icon>
            <img class="heart_icon" src="assets/images/icons/heart.svg" alt="" *ngIf="favorites == 'dislike'">
            <img class="heart_icon" src="assets/images/icons/red_heart.svg" alt="" *ngIf="favorites == 'liked'">
            <img class="car_image" src="{{api.imageUrlString}}{{data.image5}}" alt="">
          </div>
        </ng-template>
      </swiper>


      <div class="name_price_box">
        <div class="car_name">{{data.vehical_name}}</div>
        <div style="display: flex;align-items: baseline;">
          <span class="price_val" style="font-size:11px">$</span>
          <span class="price_val" style="font-size:32px" *ngIf="categoryVal=='Day'">{{data.rent_cost_day}}</span>
          <span class="price_val" style="font-size:32px" *ngIf="categoryVal=='Month'">{{data.rent_cost_month}}</span>
          <!-- <span class="price_val" style="font-size:32px">26</span> -->
          <span class="category_label" style="font-size: 10px;">/</span>

          <div (click)="displayCategories()" style="display: flex;align-items: baseline;position: relative;">
            <span class="category_label" style="margin-right: 5px;">{{categoryVal}}</span>
            <img [class.rotate_icon]="showCategories==true" src="assets/images/icons/dropdown_icon.svg" alt="">
            <div *ngIf="showCategories==true" class="categories">
              <div *ngFor="let type of rentCategories" (click)="selectedCategory(type.category)">
                <span class="category_label"
                  style="font-size: 12px; font-family: 'Poppins',sans-serif;">{{type.category}}</span>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="box_styling">
        <div class="box_heading">Requirements</div>
        <div class="box_sub_heading">Minimun age</div>
        <div class="box_description">
          21 years old
        </div>
        <div style="margin-bottom:1%;"></div>
        <div class="box_sub_heading">Security deposit</div>
        <div class="box_description">
          AED 2000
        </div>
      </div>

      <div class="d_styling" (click)="documentrequired()">
        <div style="display: flex;align-items: center;justify-content: space-evenly;">
          <div>
            <img src="assets/images/idcard.png">
          </div>
          <div class="dtext">Documents Required</div>
          <div>
            <img src="assets/images/doublearrow.png">
          </div>
        </div>
      </div>

      <div class="box_styling">
        <div class="box_heading">Description</div>
        <div class="box_description">
          {{data.description}}
        </div>
      </div>

      <div class="box_styling">
        <div class="box_heading">Owner's Details</div>
        <div class="box_sub_heading">About</div>
        <div class="box_description">
          {{about}}
        </div>
      </div>


      <div class="box_styling">
        <div class="box_heading">Delivery & Pick-up Services</div>
        <div style="display: flex;justify-content: space-around;">
          <ion-popover trigger="click-trigger" triggerAction="click" side="top">
            <ng-template>
              <ion-content class="ion-padding" [class.content_background]="checkUser.appUserId != null">
                <div>
                  <p class="para">Feel free tp pick-up this car from the branch location during working hours.</p>
                  <div style="text-align: center;">
                    <ion-button class="btn1" (click)="viewtimings()">View Shop timings</ion-button>
                  </div>

                </div>
              </ion-content>
            </ng-template>
          </ion-popover>
          <div class="bxd" (click)="presentModal('branchPickup')" id="click-trigger">
            <img src="assets/images/buildings.png">
            <div class="box_description" style="font-size: 11px !important;">
              Branch Pick-up
            </div>
          </div>
          <ion-popover trigger="click-trigger1" triggerAction="click" side="top">
            <ng-template>
              <ion-content class="ion-padding" [class.content_background]="checkUser.appUserId != null">
                <div>
                  <p class="para">This car can be delivered to you anywhere across the emirate. Extra charges may apply.
                  </p>
                  <div style="text-align: center;">
                    <ion-button class="btn1" (click)="delieverycharges()">View Delievery charges</ion-button>
                  </div>

                </div>
              </ion-content>
            </ng-template>
          </ion-popover>
          <div class="bxd" id="click-trigger1">
            <img src="assets/images/buildings.png">
            <div class="box_description" style="font-size: 11px !important;">
              Delivery To You
            </div>
          </div>

          <ion-popover trigger="click-trigger2" triggerAction="click" side="top">
            <ng-template>
              <ion-content class="ion-padding" [class.content_background]="checkUser.appUserId != null">
                <div>
                  <p class="para">This car can be booked in advance for delievery at the airport. Delievery and airport
                    parking charges may apply.
                  </p>
                  <div style="text-align: center;">
                    <ion-button class="btn1" (click)="delieverycharges()">View Delievery charges</ion-button>
                  </div>

                </div>
              </ion-content>
            </ng-template>
          </ion-popover>
          <div class="bxd" id="click-trigger2">
            <img src="assets/images/buildings.png">
            <div class="box_description" style="font-size: 11px !important;">
              Airpot Delivery
            </div>
          </div>
        </div>
      </div>


      <!-- <div class="box_styling">
        <div class="box_sub_heading" style="margin-top: 0px;">Location</div>
        <div class="box_description" style="margin-top: 4px;">
          {{data.users_company[0].company_location}}
        </div>
      </div> -->
      <div class="box_styling" style="padding: 14px 14px 15px;" (click)="gotoRatings()">
        <div class="inner_box">
          <div>
            <span class="box_heading" style="margin-right: 10px;">Ratings</span>

            <span *ngIf="data.rating == 0 ">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
            </span>
            <span *ngIf="data.rating >=1 && data.rating < 1.5">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
            </span>
            <span *ngIf="data.rating >=1.5 && data.rating < 2.5">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
            </span>
            <span *ngIf="data.rating >=2.5 && data.rating < 3.5">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
            </span>
            <span *ngIf="data.rating >=3.5 && data.rating < 4.5">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/empty_star.svg" alt="">
            </span>
            <span *ngIf="data.rating >=4.5 && data.rating < 5.1">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
              <img class="star_margin" src="assets/images/icons/rated_star.svg" alt="">
            </span>

            <span class="trips_label">{{data.total_bookings}} trips</span>
          </div>
          <div>
            <img src="assets/images/icons/next.svg" alt="">
          </div>
        </div>
      </div>
    </div>






  </div>

</ion-content>

<ion-footer class="ion-no-border" [class.header_footer_bg]="checkUser.appUserId != null">
  <!-- <div style="margin: 10px 0px 15px;">
    <div style="text-align: center;">
      <ion-button class="invite_btn" (click)="startCarBooking()">
        <span class="btn-text">Book Now</span>
      </ion-button>
    </div>
  </div> -->
  <div style="display: flex;justify-content: space-evenly;align-items: center;margin: 5% 0% 5%;;">
    <a class="bg" href="tel:923366277746">
      <ion-icon name="call" class="iconcls"></ion-icon>
    </a>
    <a class="bg2" href="https://wa.me/+923057819889?text=Hello%20World">
      <ion-icon name="logo-whatsapp" class="iconcls"></ion-icon>
    </a>
    <a class="bg3" href="mailto:ali.gharsheen1072@gmail.com">
      <ion-icon name="paper-plane" class="iconcls"></ion-icon>
    </a>
  </div>
</ion-footer>